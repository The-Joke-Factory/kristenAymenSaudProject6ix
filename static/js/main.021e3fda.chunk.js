(this["webpackJsonpjoke-app"]=this["webpackJsonpjoke-app"]||[]).push([[0],{33:function(e,t,a){e.exports=a(48)},38:function(e,t,a){},45:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),s=a.n(r),c=(a(38),a(4)),i=a(5),u=a(7),l=a(6),d=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"appHead"},o.a.createElement("h2",{className:"dadJokesHead"},"The Joke Factory"))}}]),a}(n.Component),k=a(19),p=a.n(k);a(39);p.a.initializeApp({apiKey:"AIzaSyAsZzlfleBeT9bzHKQrOQS1ow9n4156J2o",authDomain:"joke-generator-4248a.firebaseapp.com",databaseURL:"https://joke-generator-4248a.firebaseio.com",projectId:"joke-generator-4248a",storageBucket:"joke-generator-4248a.appspot.com",messagingSenderId:"250719953187",appId:"1:250719953187:web:fea752e43d0798e812ec96"});var m=p.a,v=a(24),h=a(20),f=a(16),j=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleUpVote=function(t){e.props.upVoteJoke(t)},e.handleDownVote=function(t){e.props.downVoteJoke(t)},e.sortArrayByDate=function(t){var a=Object(v.a)(e.props.jokes);return a.sort((function(e,t){var a=new Date(e.created_on),n=new Date(t.created_on);return a>n?-1:a<n?1:0})),a},e.sortArray=function(){var t=Object(v.a)(e.props.jokes),a=e.sortArrayByDate(t);return a.sort((function(e,t){var a=e.upvotes-e.downvotes,n=t.upvotes-t.downvotes;return n<a?-1:n>a?1:0})),a},e.addVoteColor=function(e){return e>4?"jokeLeader4":"jokeLeader".concat(e)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"jokeBoard"},o.a.createElement("h2",null,"Vote for which joke will stay, and which will go"),o.a.createElement("ul",null,this.sortArray().map((function(t,a){var n=t.upvotes-t.downvotes;return o.a.createElement("div",null,o.a.createElement("li",{key:t.id,className:e.addVoteColor(a)},t.author," ",t.joke," ",t.created_on,o.a.createElement("button",{onClick:function(){return e.handleUpVote(t.id)},id:t.id},o.a.createElement(h.a,{icon:f.b})),o.a.createElement("button",{onClick:function(){return e.handleDownVote(t.id)},id:t.id},o.a.createElement(h.a,{icon:f.a}))," Total Votes: ",n))}))))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).upVoteJoke=function(e){var t=n.state.jokes.map((function(t){if(t.id!=e)return t;var a={id:e,author:t.author,joke:t.joke,created_on:t.created_on,upvotes:t.upvotes+1,downvotes:t.downvotes};return m.database().ref(e).child("upvotes").set(a.upvotes),a}));n.setState({jokes:t})},n.downVoteJoke=function(e){var t=n.state.jokes.map((function(t){if(t.id!=e)return t;var a={id:t.id,author:t.author,joke:t.joke,created_on:t.created_on,upvotes:t.upvotes,downvotes:t.downvotes+1};return m.database().ref(e).child("downvotes").set(a.downvotes),a}));n.setState({jokes:t})},n.handleChange=function(e){"newJoke"==e.target.id?n.setState({jokeInput:e.target.value}):n.setState({nameInput:e.target.value})},n.submitForm=function(e){if(e.preventDefault(),n.state.jokeInput.match(/^[a-z]+/gi)&&n.state.nameInput.match(/^[a-z]+/gi)){var t=(new Date).toString();m.database().ref().push({author:n.state.nameInput,created_on:t,joke:n.state.jokeInput,upvotes:0,downvotes:0})}else alert("Please fill in all text fields")},n.state={jokes:[],jokeInput:"",nameInput:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var o in a){var r=a[o],s={id:o,author:r.author,joke:r.joke,created_on:r.created_on,upvotes:r.upvotes,downvotes:r.downvotes};n.push(s)}e.setState({jokes:n.slice(0,10)})}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.submitForm,action:"submit"},o.a.createElement("label",{htmlFor:"newJoke"},"Got a joke? Let's hear it"),o.a.createElement("textarea",{onChange:this.handleChange,minLength:"6",maxLength:"200",id:"newJoke",required:!0}),o.a.createElement("label",{htmlFor:"newJoke"},"Who's posting? (incase it sucks)"),o.a.createElement("input",{onChange:this.handleChange,maxLength:"20",type:"text",id:"author",required:!0}),o.a.createElement("button",{className:"addJokeBtn"},"Add Joke")),o.a.createElement(j,{jokes:this.state.jokes,upVoteJoke:this.upVoteJoke,downVoteJoke:this.downVoteJoke}))}}]),a}(n.Component),w=a(15),J=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).randomJoke=null,e.state={isGeneratingJoke:!1},e.onGenerateJoke=e.onGenerateJoke.bind(Object(w.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onGenerateJoke()}},{key:"generateJoke",value:function(){var e=this;this.setState({isGeneratingJoke:!0}),fetch("//icanhazdadjoke.com/",{headers:{accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({randomJoke:t.joke,isGeneratingJoke:!1})}))}},{key:"onGenerateJoke",value:function(){this.generateJoke()}},{key:"render",value:function(){return o.a.createElement("div",{className:"randomJokeContainer"},o.a.createElement("h1",null,"Random Joke Generator"),o.a.createElement("button",{className:"randomJokeBtn",onClick:this.onGenerateJoke,disabled:this.state.isGeneratingJoke},"Tell me a joke"),o.a.createElement("p",{className:"randomJokeResult"},this.state.isGeneratingJoke?"Generating random joke...":this.state.randomJoke))}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("p",null,"Copyright 2020")}}]),a}(n.Component),E=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).upVoteJoke=function(e){var t=n.state.jokes.map((function(t){if(t.id!=e)return t;var a={id:e,author:t.author,joke:t.joke,created_on:t.created_on,upvotes:t.upvotes+1,downvotes:t.downvotes};return m.database().ref(e).child("upvotes").set(a.upvotes),a}));n.setState({jokes:t})},n.downVoteJoke=function(e){var t=n.state.jokes.map((function(t){if(t.id!=e)return t;var a={id:t.id,author:t.author,joke:t.joke,created_on:t.created_on,upvotes:t.upvotes,downvotes:t.downvotes+1};return m.database().ref(e).child("downvotes").set(a.downvotes),a}));n.setState({jokes:t})},n.submitDate=function(e){e.preventDefault(),n.setState({jokes:[]});var t=m.database().ref(),a=[];t.on("value",(function(e){var t=e.val();for(var o in t){var r=t[o],s={id:o,author:r.author,joke:r.joke,created_on:r.created_on,upvotes:r.upvotes,downvotes:r.downvotes};a.push(s)}var c=a.filter((function(e){var t=new Date(e.created_on);return(t=t.toISOString().substr(0,10))===n.state.userDate}));console.log(c),n.setState({jokes:c})}))},n.getDate=function(e){n.setState({userDate:e.target.value})},n.state={jokes:[],userDate:""},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.submitDate},o.a.createElement("label",{for:!0},"Choose a date"),o.a.createElement("input",{onChange:this.getDate,type:"date"}),o.a.createElement("button",null,"Submit")),o.a.createElement(j,{jokes:this.state.jokes,upVoteJoke:this.upVoteJoke,downVoteJoke:this.downVoteJoke}))}}]),a}(n.Component),O=a(13),y=a(2),V=(a(45),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement(O.a,null,o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(d,null),o.a.createElement(O.b,{to:"/generateJoke"},"Random Joke"),o.a.createElement(O.b,{to:"/"},"Add Joke"),o.a.createElement(O.b,{to:"/voteForJoke"},"Vote for a Joke"),o.a.createElement(y.a,{exact:!0,path:"/",component:b}),o.a.createElement(y.a,{exact:!0,path:"/voteForJoke",component:E}),o.a.createElement(y.a,{path:"/generateJoke",exact:!0,component:J}),o.a.createElement(g,null))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.021e3fda.chunk.js.map